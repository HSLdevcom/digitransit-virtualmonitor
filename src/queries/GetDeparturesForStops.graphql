query GetDeparturesForStops($ids: [String!]!, $numberOfDepartures: Int!)
@api(contextKey: "clientName") {
  stops: stops(ids: $ids) {
    name
    code
    gtfsId
    lat
    lon
    patterns {
      headsign
    }
    alerts {
      alertSeverityLevel
      alertHeaderText
      alertHeaderTextTranslations {
        text
        language
      }
      alertDescriptionTextTranslations {
        text
        language
      }
      effectiveEndDate
      effectiveStartDate
      stop {
        gtfsId
        code
      }
    }
    routes {
      alerts {
        alertSeverityLevel
        alertHeaderText
        alertHeaderTextTranslations {
          text
          language
        }
        alertDescriptionTextTranslations {
          text
          language
        }
        effectiveEndDate
        effectiveStartDate
        stop {
          gtfsId
          code
        }
      }
      longName
      longNamefi: longName(language: "fi")
      longNamesv: longName(language: "sv")
      id
    }
    stoptimesForPatterns(
      numberOfDepartures: $numberOfDepartures
      omitCanceled: false
    ) {
      pattern {
        code
        directionId
        headsign
        route {
          gtfsId
          shortName
        }
      }
      stoptimes {
        stop {
          gtfsId
          code
          platformCode
          parentStation {
            gtfsId
          }
        }
        realtime
        pickupType
        serviceDay
        scheduledDeparture
        realtimeDeparture
        realtimeState
        headsign
        headsignfi: headsign(language: "fi")
        headsignsv: headsign(language: "sv")
        trip {
          tripHeadsign
          tripHeadsignfi : tripHeadsign(language: "fi")
          tripHeadsignsv: tripHeadsign(language: "sv")
          gtfsId
          route {
            shortName
          }
        }
      }
    }
  }
}